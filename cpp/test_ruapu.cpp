#include <iostream>

#define RUAPU_IMPLEMENTATION
#include "ruapu.hpp"

#define PRINT_ISA_SUPPORT_CPP(isa) std::cout << #isa << " = " << (ruapu::support(#isa) ? "True" : "False") << std::endl;

int main()
{
    using namespace nihui;

#if defined(__i386__) || defined(__x86_64__) || defined(_M_IX86) || defined(_M_X64)
    PRINT_ISA_SUPPORT_CPP(mmx)
    PRINT_ISA_SUPPORT_CPP(sse)
    PRINT_ISA_SUPPORT_CPP(sse2)
    PRINT_ISA_SUPPORT_CPP(sse3)
    PRINT_ISA_SUPPORT_CPP(ssse3)
    PRINT_ISA_SUPPORT_CPP(sse41)
    PRINT_ISA_SUPPORT_CPP(sse42)
    PRINT_ISA_SUPPORT_CPP(sse4a)
    PRINT_ISA_SUPPORT_CPP(xop)
    PRINT_ISA_SUPPORT_CPP(avx)
    PRINT_ISA_SUPPORT_CPP(f16c)
    PRINT_ISA_SUPPORT_CPP(fma)
    PRINT_ISA_SUPPORT_CPP(fma4)
    PRINT_ISA_SUPPORT_CPP(avx2)
    PRINT_ISA_SUPPORT_CPP(avx512f)
    PRINT_ISA_SUPPORT_CPP(avx512bw)
    PRINT_ISA_SUPPORT_CPP(avx512cd)
    PRINT_ISA_SUPPORT_CPP(avx512dq)
    PRINT_ISA_SUPPORT_CPP(avx512vl)
    PRINT_ISA_SUPPORT_CPP(avx512vnni)
    PRINT_ISA_SUPPORT_CPP(avx512bf16)
    PRINT_ISA_SUPPORT_CPP(avx512ifma)
    PRINT_ISA_SUPPORT_CPP(avx512vbmi)
    PRINT_ISA_SUPPORT_CPP(avx512vbmi2)
    PRINT_ISA_SUPPORT_CPP(avx512fp16)
    PRINT_ISA_SUPPORT_CPP(avx512er)
    PRINT_ISA_SUPPORT_CPP(avx5124fmaps)
    PRINT_ISA_SUPPORT_CPP(avx5124vnniw)
    PRINT_ISA_SUPPORT_CPP(avxvnni)
    PRINT_ISA_SUPPORT_CPP(avxvnniint8)
    PRINT_ISA_SUPPORT_CPP(avxvnniint16)
    PRINT_ISA_SUPPORT_CPP(avxifma)
    PRINT_ISA_SUPPORT_CPP(avxneconvert)
    PRINT_ISA_SUPPORT_CPP(amxfp16)
    PRINT_ISA_SUPPORT_CPP(amxbf16)
    PRINT_ISA_SUPPORT_CPP(amxint8)
    PRINT_ISA_SUPPORT_CPP(amxtile)
    PRINT_ISA_SUPPORT_CPP(bmi1)
    PRINT_ISA_SUPPORT_CPP(bmi2)
    PRINT_ISA_SUPPORT_CPP(gfni)
    PRINT_ISA_SUPPORT_CPP(aesni)
    PRINT_ISA_SUPPORT_CPP(vaes)
    PRINT_ISA_SUPPORT_CPP(sha1)
    PRINT_ISA_SUPPORT_CPP(sha256)
    PRINT_ISA_SUPPORT_CPP(sha512)
    PRINT_ISA_SUPPORT_CPP(sm3)
    PRINT_ISA_SUPPORT_CPP(sm4)
    PRINT_ISA_SUPPORT_CPP(rdrand)
    PRINT_ISA_SUPPORT_CPP(rdseed)
    PRINT_ISA_SUPPORT_CPP(tsx)


#elif __aarch64__ || defined(_M_ARM64)
    PRINT_ISA_SUPPORT_CPP(neon)
    PRINT_ISA_SUPPORT_CPP(vfpv4)
    PRINT_ISA_SUPPORT_CPP(lse)
    PRINT_ISA_SUPPORT_CPP(cpuid)
    PRINT_ISA_SUPPORT_CPP(asimdrdm)
    PRINT_ISA_SUPPORT_CPP(asimdhp)
    PRINT_ISA_SUPPORT_CPP(asimddp)
    PRINT_ISA_SUPPORT_CPP(asimdfhm)
    PRINT_ISA_SUPPORT_CPP(bf16)
    PRINT_ISA_SUPPORT_CPP(i8mm)
    PRINT_ISA_SUPPORT_CPP(frint)
    PRINT_ISA_SUPPORT_CPP(jscvt)
    PRINT_ISA_SUPPORT_CPP(fcma)
    PRINT_ISA_SUPPORT_CPP(mte)
    PRINT_ISA_SUPPORT_CPP(mte2)
    PRINT_ISA_SUPPORT_CPP(sve)
    PRINT_ISA_SUPPORT_CPP(sve2)
    PRINT_ISA_SUPPORT_CPP(svebf16)
    PRINT_ISA_SUPPORT_CPP(svei8mm)
    PRINT_ISA_SUPPORT_CPP(svef32mm)
    PRINT_ISA_SUPPORT_CPP(svef64mm)
    PRINT_ISA_SUPPORT_CPP(sme)
    PRINT_ISA_SUPPORT_CPP(smef16f16)
    PRINT_ISA_SUPPORT_CPP(smef64f64)
    PRINT_ISA_SUPPORT_CPP(smei64i64)
    PRINT_ISA_SUPPORT_CPP(pmull)
    PRINT_ISA_SUPPORT_CPP(crc32)
    PRINT_ISA_SUPPORT_CPP(aes)
    PRINT_ISA_SUPPORT_CPP(sha1)
    PRINT_ISA_SUPPORT_CPP(sha2)
    PRINT_ISA_SUPPORT_CPP(sha3)
    PRINT_ISA_SUPPORT_CPP(sha512)
    PRINT_ISA_SUPPORT_CPP(sm3)
    PRINT_ISA_SUPPORT_CPP(sm4)
    PRINT_ISA_SUPPORT_CPP(svepmull)
    PRINT_ISA_SUPPORT_CPP(svebitperm)
    PRINT_ISA_SUPPORT_CPP(sveaes)
    PRINT_ISA_SUPPORT_CPP(svesha3)
    PRINT_ISA_SUPPORT_CPP(svesm4)
    PRINT_ISA_SUPPORT_CPP(amx)

#elif __arm__ || defined(_M_ARM)
    PRINT_ISA_SUPPORT_CPP(half)
    PRINT_ISA_SUPPORT_CPP(edsp)
    PRINT_ISA_SUPPORT_CPP(neon)
    PRINT_ISA_SUPPORT_CPP(vfpv4)
    PRINT_ISA_SUPPORT_CPP(idiv)

#elif __mips__
    PRINT_ISA_SUPPORT_CPP(msa)
    PRINT_ISA_SUPPORT_CPP(mmi)
    PRINT_ISA_SUPPORT_CPP(sx)
    PRINT_ISA_SUPPORT_CPP(asx)
    PRINT_ISA_SUPPORT_CPP(msa2)
    PRINT_ISA_SUPPORT_CPP(crypto)

#elif __powerpc__
    PRINT_ISA_SUPPORT_CPP(vsx)

#elif __s390x__
    PRINT_ISA_SUPPORT_CPP(zvector)

#elif __loongarch__
    PRINT_ISA_SUPPORT_CPP(lsx)
    PRINT_ISA_SUPPORT_CPP(lasx)

#elif __riscv
    PRINT_ISA_SUPPORT_CPP(i)
    PRINT_ISA_SUPPORT_CPP(m)
    PRINT_ISA_SUPPORT_CPP(a)
    PRINT_ISA_SUPPORT_CPP(f)
    PRINT_ISA_SUPPORT_CPP(d)
    PRINT_ISA_SUPPORT_CPP(c)
    PRINT_ISA_SUPPORT_CPP(v)
    PRINT_ISA_SUPPORT_CPP(zba)
    PRINT_ISA_SUPPORT_CPP(zbb)
    PRINT_ISA_SUPPORT_CPP(zbc)
    PRINT_ISA_SUPPORT_CPP(zbs)
    PRINT_ISA_SUPPORT_CPP(zbkb)
    PRINT_ISA_SUPPORT_CPP(zbkc)
    PRINT_ISA_SUPPORT_CPP(zbkx)
    PRINT_ISA_SUPPORT_CPP(zcb)
    PRINT_ISA_SUPPORT_CPP(zfa)
    PRINT_ISA_SUPPORT_CPP(zfbfmin)
    PRINT_ISA_SUPPORT_CPP(zfh)
    PRINT_ISA_SUPPORT_CPP(zfhmin)
    PRINT_ISA_SUPPORT_CPP(zicond)
    PRINT_ISA_SUPPORT_CPP(zicsr)
    PRINT_ISA_SUPPORT_CPP(zifencei)
    PRINT_ISA_SUPPORT_CPP(zmmul)
    PRINT_ISA_SUPPORT_CPP(zvbb)
    PRINT_ISA_SUPPORT_CPP(zvbc)
    PRINT_ISA_SUPPORT_CPP(zvfh)
    PRINT_ISA_SUPPORT_CPP(zvfhmin)
    PRINT_ISA_SUPPORT_CPP(zvfbfmin)
    PRINT_ISA_SUPPORT_CPP(zvfbfwma)
    PRINT_ISA_SUPPORT_CPP(zvkb)
    PRINT_ISA_SUPPORT_CPP(zvl32b)
    PRINT_ISA_SUPPORT_CPP(zvl64b)
    PRINT_ISA_SUPPORT_CPP(zvl128b)
    PRINT_ISA_SUPPORT_CPP(zvl256b)
    PRINT_ISA_SUPPORT_CPP(zvl512b)
    PRINT_ISA_SUPPORT_CPP(zvl1024b)

    PRINT_ISA_SUPPORT_CPP(xtheadba)
    PRINT_ISA_SUPPORT_CPP(xtheadbb)
    PRINT_ISA_SUPPORT_CPP(xtheadbs)
    PRINT_ISA_SUPPORT_CPP(xtheadcondmov)
    PRINT_ISA_SUPPORT_CPP(xtheadfmemidx)
    PRINT_ISA_SUPPORT_CPP(xtheadfmv)
    PRINT_ISA_SUPPORT_CPP(xtheadmac)
    PRINT_ISA_SUPPORT_CPP(xtheadmemidx)
    PRINT_ISA_SUPPORT_CPP(xtheadmempair)
    PRINT_ISA_SUPPORT_CPP(xtheadsync)
    PRINT_ISA_SUPPORT_CPP(xtheadvdot)

    PRINT_ISA_SUPPORT_CPP(spacemitvmadot)
    PRINT_ISA_SUPPORT_CPP(spacemitvmadotn)
    PRINT_ISA_SUPPORT_CPP(spacemitvfmadot)

#elif __openrisc__
    PRINT_ISA_SUPPORT_CPP(orbis32)
    PRINT_ISA_SUPPORT_CPP(orbis64)
    PRINT_ISA_SUPPORT_CPP(orfpx32)
    PRINT_ISA_SUPPORT_CPP(orfpx64)
    PRINT_ISA_SUPPORT_CPP(orvdx64)

#endif

    fflush(stdout);

    return 0;
}
